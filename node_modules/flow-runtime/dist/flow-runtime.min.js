!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e["flow-runtime"]=t()}(this,function(){"use strict";function e(e){if(e.hasErrors()){var n=e.input,a=e.context,o=[],i=!0,u=!1,c=void 0;try{for(var s,p=e.errors[Symbol.iterator]();!(i=(s=p.next()).done);i=!0){var y=s.value,l=te(y,3),f=l[0],h=l[1],v=l[2],m=v?v.toString():null,d=a.typeOf(r(n,f)).toString(),g=t(e.path.concat(f)),k="/"+f.join("/");o.push({pointer:k,field:g,message:h,expected:m,actual:d})}}catch(e){u=!0,c=e}finally{try{!i&&p.return&&p.return()}finally{if(u)throw c}}return o}}function t(e){if(!e.length)return"Value";for(var t=e.length,r=new Array(t),n=0;n<t;n++){var a=e[n];"[[Return Type]]"===a?r[n]="Return Type":"string"==typeof a&&ne.test(a)?n>0?r[n]="."+a:r[n]=a:r[n]="["+String(a)+"]"}return r.join("")}function r(e,t){for(var r=e,n=t.length,a=0;a<n;a++){if(null==r)return;var o=t[a];"[[Return Type]]"!==o&&(r=r instanceof Map?r.get(o):r[o])}return r}function n(e,t){var r=e.length;if(r>t.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function a(e){if(e.hasErrors()){var n=e.prefix,a=e.input,o=e.context,i=[],u=!0,c=!1,s=void 0;try{for(var p,y=e.errors[Symbol.iterator]();!(u=(p=y.next()).done);u=!0){var l=p.value,f=te(l,3),h=f[0],v=f[1],m=f[2],d=m?m.toString():"*",g=o.typeOf(r(a,h)).toString(),k=t(e.path.concat(h));i.push(k+" "+v+"\n\nExpected: "+d+"\n\nActual: "+g+"\n")}}catch(e){c=!0,s=e}finally{try{!u&&y.return&&y.return()}finally{if(c)throw s}}return new oe(n?n.trim()+" "+i.join(ie):i.join(ie))}}function o(e,t){var r=e.context,n=r.validate(e,t);return a(n)}function i(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=se[e];return r.length>0?a.replace(/\$(\d+)/g,function(e,t){return r[t]}):a}function u(e,t){var r=pe.get(e);return!!r&&r.has(t)}function c(e,t){var r=pe.get(e);r||(r=new WeakSet,pe.set(e,r)),r.add(t)}function s(e,t){var r=pe.get(e);r&&r.delete(t)}function p(e){return ye.has(e)}function y(e){ye.add(e)}function l(e){ye.delete(e)}function f(e){var t=e[de];if(t)return t;var r=new ke(e.context);return r.typeParameter=e,e[de]=r,r}function h(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(t=e.constraints).push.apply(t,re(n))}function v(e,t,r){for(var n=e.constraints,a=n.length,o=!1,i=arguments.length,u=Array(i>3?i-3:0),c=3;c<i;c++)u[c-3]=arguments[c];for(var s=0;s<a;s++){var p=n[s],y=p.apply(void 0,re(u));"string"==typeof y&&(t.addError(r,this,y),o=!0)}return o}function m(e){for(var t=e.constraints,r=t.length,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];for(var i=0;i<r;i++){var u=t[i];if("string"==typeof u.apply(void 0,re(a)))return!1}return!0}function d(e,t){if("function"!=typeof t)return!1;for(var r=e.callProperties,n=0;n<r.length;n++){var a=r[n];if(a.accepts(t))return!0}return!1}function g(e,t){var r=e.callProperties,n=t.callProperties;e:for(var a=0;a<r.length;a++){for(var o=r[a],i=0;i<n.length;i++){var u=n[i];if(o.acceptsType(u))continue e}return!1}return!0}function k(e,t){for(var r=e.properties,n=e.indexers,a=[],o=0;o<r.length;o++){var i=r[o];if(!i.accepts(t))return!1;a.push(i.key)}e:for(var u in t)if(a.indexOf(u)===-1){for(var c=t[u],s=0;s<n.length;s++){var p=n[s];if(p.acceptsKey(u)&&p.acceptsValue(c))continue e}return!1}return!0}function T(e,t){var r=e.indexers,n=e.properties,a=t.indexers,o=t.properties;e:for(var i=0;i<n.length;i++)for(var u=n[i],c=0;c<o.length;c++){var s=o[c];if(s.key===u.key){if(u.acceptsType(s))continue e;return!1}}e:for(var p=0;p<r.length;p++){for(var y=r[p],l=0;l<a.length;l++){var f=a[l];if(y.acceptsType(f))continue e}return!1}return!0}function E(e,t){for(var r=e.properties,n=0;n<r.length;n++){var a=r[n];if(!a.accepts(t))return!1}return!0}function _(e,t){var r=e.properties,n=r.length;e:for(var a in t){for(var o=0;o<n;o++){var i=r[o];if(i.key===a){if(!i.accepts(t))return!1;continue e}}return!1}return!0}function b(e,t){var r=e.properties,n=t.properties;e:for(var a=0;a<r.length;a++){for(var o=r[a],i=0;i<n.length;i++){var u=n[i];if(u.key===o.key){if(o.acceptsType(u))continue e;return!1}}return!1}return!0}function P(e,t,r,n){for(var a=e.properties,o=e.indexers,u=[],c=!1,s=0;s<a.length;s++){var p=a[s];p.collectErrors(t,r,n)&&(c=!0),u.push(p.key)}e:for(var y in n)if(u.indexOf(y)===-1){for(var l=n[y],f=0;f<o.length;f++){var h=o[f];if(h.acceptsKey(y)&&h.acceptsValue(l))continue e}t.addError(r.concat(y),e,i("ERR_NO_INDEXER")),c=!0}return c}function N(e,t,r,n){for(var a=e.properties,o=!1,i=0;i<a.length;i++){var u=a[i];u.collectErrors(t,r,n)&&(o=!0)}return o}function O(e,t,r,n){var a=e.properties,o=a.length,u=!1;e:for(var c in n){for(var s=0;s<o;s++){var p=a[s];if(p.key===c){p.collectErrors(t,r,n)&&(u=!0);continue e}}t.addError(r,e,i("ERR_UNKNOWN_KEY",c)),u=!0}return u}function S(e){for(var t=e.split("\n"),r=t.length,n=0;n<r;n++)t[n]="  "+t[n];return t.join("\n")}function w(e){var t=e.typeCreator,r=e.context,n=e.name,a=new Ge(r);a.name=n,a.type=t(a),a.constraints=e.constraints;for(var o=a.typeParameters,i=arguments.length,u=Array(i>1?i-1:0),c=1;c<i;c++)u[c-1]=arguments[c];for(var s=Math.min(u.length,o.length),p=0;p<s;p++){var y=o[p],l=u[p];y.bound&&y.bound!==l?y.bound=r.intersect(y.bound,l):y.bound=l}return a}function A(e){var t=e.context,r=e.bodyCreator,n=new Ge(t),a=r(n);n.type=t.function.apply(t,re(a));for(var o=n.typeParameters,i=arguments.length,u=Array(i>1?i-1:0),c=1;c<i;c++)u[c-1]=arguments[c];for(var s=Math.min(u.length,o.length),p=0;p<s;p++){var y=o[p],l=u[p];y.bound&&y.bound!==l?y.bound=t.intersect(y.bound,l):y.bound=l}return n}function R(e){return Y.null=Object.freeze(new Be(e)),Y.empty=Object.freeze(new ve(e)),Y.number=Object.freeze(new Ue(e)),Y.boolean=Object.freeze(new he(e)),Y.string=Object.freeze(new Qe(e)),Y.symbol=Object.freeze(new tt(e)),Y.any=Object.freeze(new ce(e)),Y.mixed=Object.freeze(new Le(e)),Y.void=Object.freeze(new ut(e)),Y.existential=Object.freeze(new me(e)),e}function x(e,t){if(!e){var r=new Error(t);throw r.name="InvariantViolation","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(r,x),r}}function C(e){return e.declareTypeConstructor({name:"Class",typeName:"ClassType",collectErrors:function(t,r,n,a){if("function"!=typeof n)return t.addError(r,this,i("ERR_EXPECT_CLASS",a.toString())),!0;var o=a.unwrap();if(o instanceof Je&&"function"==typeof o.impl)return n!==o.impl&&(!o.impl.prototype.isPrototypeOf(n.prototype)&&(t.addError(r,this,i("ERR_EXPECT_CLASS",a.toString())),!0));var u=e.getAnnotation(n);if(u)return o.acceptsType(u);var c=void 0;switch(n.typeName){case"NumberType":case"NumericLiteralType":c=n===Number;break;case"BooleanType":case"BooleanLiteralType":c=n===Boolean;break;case"StringType":case"StringLiteralType":c=n===String;break;case"ArrayType":case"TupleType":c=n===Array;break;default:return!1}return!c&&(t.addError(r,this,i("ERR_EXPECT_CLASS",a.toString())),!0)},accepts:function(t,r){if("function"!=typeof t)return!1;var n=r.unwrap();if(n instanceof Je&&"function"==typeof n.impl){if(t===n.impl)return!0;if("function"==typeof n.impl)return!!n.impl.prototype.isPrototypeOf(t.prototype)}var a=e.getAnnotation(t);if(a)return n.acceptsType(a);if(n instanceof Ie&&(n=n.parent),n instanceof Je&&"function"==typeof n.impl)return!!n.impl.prototype.isPrototypeOf(t.prototype);switch(t.typeName){case"NumberType":case"NumericLiteralType":return t===Number;case"BooleanType":case"BooleanLiteralType":return t===Boolean;case"StringType":case"StringLiteralType":return t===String;case"ArrayType":case"TupleType":return t===Array;default:return!1}},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"$Diff",typeName:"$DiffType",collectErrors:function(e,t,r,n,a){if(null===r||"object"!==("undefined"==typeof r?"undefined":G(r))&&"function"!=typeof r)return e.addError(t,this,i("ERR_EXPECT_OBJECT")),!0;n=n.unwrap(),x(a,"Must specify two type parameters."),a=a.unwrap(),x(n instanceof Ye&&a instanceof Ye,"Can only $Diff object types.");for(var o=!1,u=n.properties,c=0;c<u.length;c++){var s=u[c];a.hasProperty(s.key)||s.collectErrors(e,t.concat(s.key),r)&&(o=!0)}return o},accepts:function(e,t,r){if(null===e||"object"!==("undefined"==typeof e?"undefined":G(e))&&"function"!=typeof e)return!1;t=t.unwrap(),r=r.unwrap(),x(t instanceof Ye&&r instanceof Ye,"Can only $Diff object types.");for(var n=t.properties,a=0;a<n.length;a++){var o=n[a];if(!r.hasProperty(o.key)&&!o.accepts(e))return!1}return!0},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"$Shape",typeName:"$ShapeType",collectErrors:function(e,t,r,n){if(null===r||"object"!==("undefined"==typeof r?"undefined":G(r))&&"function"!=typeof r)return e.addError(t,this,i("ERR_EXPECT_OBJECT")),!0;n=n.unwrap(),x("function"==typeof n.getProperty,"Can only $Shape<T> object types.");var a=!1;for(var o in r){var u=n.getProperty(o);u&&u.collectErrors(e,t,r)&&(a=!0)}return a},accepts:function(e,t){if(null===e||"object"!==("undefined"==typeof e?"undefined":G(e))&&"function"!=typeof e)return!1;t=t.unwrap(),x("function"==typeof t.getProperty,"Can only $Shape<T> object types.");for(var r in e){var n=t.getProperty(r);if(!n||!n.accepts(e))return!1}return!0},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"$SuperType",typeName:"$SuperType",collectErrors:function(e,t,r,n){return n.collectErrors(e,t,r)},accepts:function(e,t){return t.accepts(e)},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"$SubType",typeName:"$SubType",collectErrors:function(e,t,r,n){return n.collectErrors(e,t,r)},accepts:function(e,t){return t.accepts(e)},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"$ObjMap",typeName:"$ObjMap",collectErrors:function(e,t,r,n,a){var o=n.unwrap();x(a,"Must specify at least two type parameters."),x(Array.isArray(o.properties),"Target must be an object type.");var i=!1,u=!0,c=!1,s=void 0;try{for(var p,y=o.properties[Symbol.iterator]();!(u=(p=y.next()).done);u=!0){var l=p.value,f=a.unwrap(l.value.unwrap()),h=f.returnType.unwrap(),v=r[l.key];h.collectErrors(e,t.concat(l.key),v)&&(i=!0)}}catch(e){c=!0,s=e}finally{try{!u&&y.return&&y.return()}finally{if(c)throw s}}return i},accepts:function(e,t,r){var n=t.unwrap();x(Array.isArray(n.properties),"Target must be an object type.");var a=!0,o=!1,i=void 0;try{for(var u,c=n.properties[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value,p=r.unwrap(s.value.unwrap()),y=p.returnType.unwrap();if(!y.accepts(e[s.key]))return!1}}catch(e){o=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}return!0},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"$ObjMapi",typeName:"$ObjMapi",collectErrors:function(e,t,r,n,a){var o=n.unwrap();x(a,"Must specify at least two type parameters."),x(Array.isArray(o.properties),"Target must be an object type.");var i=!1,u=!0,c=!1,s=void 0;try{for(var p,y=o.properties[Symbol.iterator]();!(u=(p=y.next()).done);u=!0){var l=p.value,f=a.unwrap(this.context.string(l.key),l.value.unwrap()),h=r[l.key],v=f.returnType.unwrap();v.collectErrors(e,t.concat(l.key),h)&&(i=!0)}}catch(e){c=!0,s=e}finally{try{!u&&y.return&&y.return()}finally{if(c)throw s}}return i},accepts:function(e,t,r){var n=t.unwrap();x(Array.isArray(n.properties),"Target must be an object type.");var a=!0,o=!1,i=void 0;try{for(var u,c=n.properties[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value,p=r.unwrap(this.context.string(s.key),s.value.unwrap()),y=e[s.key],l=p.returnType.unwrap();if(!l.accepts(y))return!1}}catch(e){o=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}return!0},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"$Keys",typeName:"$KeysType",collectErrors:function(e,t,r,n){n=n.unwrap(),x(n instanceof Ye,"$Keys<T> - T must be an ObjectType.");for(var a=n.properties,o=a.length,u=0;u<o;u++){var c=a[u];if(r===c.key)return!1}for(var s=new Array(o),p=0;p<o;p++)s[p]=a[p].key;return e.addError(t,this,i("ERR_NO_UNION",s.join(" | "))),!0},accepts:function(e,t){t=t.unwrap(),x(t instanceof Ye,"$Keys<T> - T must be an ObjectType.");for(var r=t.properties,n=0;n<r.length;n++){var a=r[n];if(e===a.key)return!0}return!1},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"Date",impl:Date,typeName:"DateType",collectErrors:function(e,t,r){return r instanceof Date?!!isNaN(r.getTime())&&(e.addError(t,this,i("ERR_INVALID_DATE")),!0):(e.addError(t,this,i("ERR_EXPECT_INSTANCEOF",Date)),!0)},accepts:function(e){return e instanceof Date&&!isNaN(e.getTime())},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"Iterable",typeName:"IterableType",collectErrors:function(e,t,r,n){return r?"function"!=typeof r[Symbol.iterator]&&(e.addError(t,this,i("ERR_EXPECT_ITERABLE")),!0):(e.addError(t,this,i("ERR_EXPECT_OBJECT")),!0)},accepts:function(e,t){return!(!e||"function"!=typeof e[Symbol.iterator])},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"Promise",impl:Promise,typeName:"PromiseType",collectErrors:function(e,t,r,n){var a=this.context;return!a.checkPredicate("Promise",r)&&(e.addError(t,this,i("ERR_EXPECT_PROMISE",n)),!0)},accepts:function(e){var t=this.context;return t.checkPredicate("Promise",e)},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"Map",impl:Map,typeName:"MapType",collectErrors:function(e,t,r,n,a){x(a,"Must specify two type parameters.");var o=this.context;if(!o.checkPredicate("Map",r))return e.addError(t,this,i("ERR_EXPECT_INSTANCEOF","Map")),!0;var u=!1,c=!0,s=!1,p=void 0;try{for(var y,l=r[Symbol.iterator]();!(c=(y=l.next()).done);c=!0){var f=y.value,h=te(f,2),v=h[0],m=h[1];n.accepts(v)||(e.addError(t,this,i("ERR_EXPECT_KEY_TYPE",n)),u=!0),a.collectErrors(e,t.concat(v),m)&&(u=!0)}}catch(e){s=!0,p=e}finally{try{!c&&l.return&&l.return()}finally{if(s)throw p}}return u},accepts:function(e,t,r){var n=this.context;if(!n.checkPredicate("Map",e))return!1;var a=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value,p=te(s,2),y=p[0],l=p[1];if(!t.accepts(y)||!r.accepts(l))return!1}}catch(e){o=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}return!0},inferTypeParameters:function(t){var r=[],n=[],a=!0,o=!1,i=void 0;try{e:for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value,p=te(s,2),y=p[0],l=p[1];t:{for(var f=0;f<r.length;f++){var h=r[f];if(h.accepts(y))break t}r.push(e.typeOf(y))}for(var v=0;v<n.length;v++){var m=n[v];if(m.accepts(l))continue e}n.push(e.typeOf(l))}}catch(e){o=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}var d=[];return 0===r.length?d.push(e.existential()):1===r.length?d.push(r[0]):d.push(e.union.apply(e,r)),0===n.length?d.push(e.existential()):1===n.length?d.push(n[0]):d.push(e.union.apply(e,n)),d}}),e.declareTypeConstructor({name:"Set",impl:Set,typeName:"SetType",collectErrors:function(e,t,r,n){var a=this.context;if(!a.checkPredicate("Set",r))return e.addError(t,this,i("ERR_EXPECT_INSTANCEOF","Set")),!0;var o=!1,u=!0,c=!1,s=void 0;try{for(var p,y=r[Symbol.iterator]();!(u=(p=y.next()).done);u=!0){var l=p.value;n.collectErrors(e,t,l)&&(o=!0)}}catch(e){c=!0,s=e}finally{try{!u&&y.return&&y.return()}finally{if(c)throw s}}return o},accepts:function(e,t){var r=this.context;if(!r.checkPredicate("Set",e))return!1;var n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;if(!t.accepts(c))return!1}}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return!0},inferTypeParameters:function(t){var r=[],n=!0,a=!1,o=void 0;try{e:for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){for(var c=i.value,s=0;s<r.length;s++){var p=r[s];if(p.accepts(c))continue e}r.push(e.typeOf(c))}}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return 0===r.length?[e.existential()]:1===r.length?[r[0]]:[e.union.apply(e,r)]}}),e.declareTypeConstructor({name:"$FlowIgnore",typeName:"$FlowIgnore",collectErrors:function(e,t,r){return!1},accepts:function(e){return!0},inferTypeParameters:function(e){return[]}}),e}function j(e){e.setPredicate("Array",function(e){return Array.isArray(e)}),e.setPredicate("Map",function(e){return e instanceof Map}),e.setPredicate("Set",function(e){return e instanceof Set}),e.setPredicate("Promise",function(e){return e instanceof Promise||null!==e&&"object"===("undefined"==typeof e?"undefined":G(e))&&"function"==typeof e.then&&e.then.length>=2})}function I(e){var t={},r=function(e){t[e.key]=function(t,r,n){return o(e,t)}},n=!0,a=!1,i=void 0;try{for(var u,c=e.properties[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var s=u.value;r(s)}}catch(e){a=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw i}}return t}function X(e){if(e.hasErrors()){var n=e.input,a=e.context,o=[],i=!0,u=!1,c=void 0;try{for(var s,p=e.errors[Symbol.iterator]();!(i=(s=p.next()).done);i=!0){var y=s.value,l=te(y,3),f=l[0],h=l[1],v=l[2],m=v?v.toString():"*",d=a.typeOf(r(n,f)).toString(),g=t(e.path.concat(f));o.push(g+" "+h+"\n\nExpected: "+m+"\n\nActual: "+d+"\n")}}catch(e){u=!0,c=e}finally{try{!i&&p.return&&p.return()}finally{if(u)throw c}}return"Warning: "+o.join(st)}}function J(e,t){for(var r=t.length,n=[],a=0;a<r;a++){var o=t[a];o instanceof it?M(n,o.types):n.push(o)}var i=new it(e);return i.types=n,i}function M(e,t){e:for(var r=0;r<t.length;r++){for(var n=t[r],a=0;a<e.length;a++){var o=e[a];if(o.acceptsType(n))continue e}e.push(n)}}function L(e,t,r,n,a){return"function"==typeof n.get&&"function"==typeof n.set?U(e,t,r,n,a):F(e,t,r,n,a)}function $(e){return"_flowRuntime$"+e}function D(e){return"function"==typeof e?e.name||"[Class anonymous]":"function"==typeof e.constructor?D(e.constructor):"[Class anonymous]"}function B(e,t){return"function"==typeof t?t.call(e):t}function F(e,t,r,n,a){var o=$(r),i=D(t),u=n.initializer,c=(n.writable,Q(n,["initializer","writable"])),s=[i,r];return q({},c,{type:"accessor",get:function(){if(o in this)return this[o];if(u){var t=B(this,e),r=u.call(this),n=t.context;return n.check(t,r,"Default value for property",s),Object.defineProperty(this,o,{writable:!0,value:r}),r}Object.defineProperty(this,o,{writable:!0,value:void 0})},set:function(t){var r=B(this,e),n=r.context;a?n.assert(r,t,"Property",s):n.warn(r,t,"Property",s),o in this?this[o]=t:Object.defineProperty(this,o,{writable:!0,value:t})}})}function U(e,t,r,n,a){var o=D(t),i=[o,r],u=n.set;n.set=function(t){var r=B(this,e),n=r.context;a?n.assert(r,t,"Property",i):n.warn(r,t,"Property",i),u.call(this,t)}}function V(e,t){if(t instanceof ue)return e[we]=t,e;var r=function(){var t=e;return{v:function(e){return e[we]=t,e}}}();return"object"===("undefined"==typeof r?"undefined":G(r))?r.v:void 0}function z(e){for(var t=e.split("\n"),r=t.length,n=0;n<r;n++)t[n]="  "+t[n];return t.join("\n")}function K(e,t){Object.defineProperty(kt,e,{value:t})}var Y={},G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Z=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Q=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},ee=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},te=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),re=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},ne=/^[$A-Z_][0-9A-Z_$[\].]*$/i,ae=function(){function t(e,r){W(this,t),this.path=[],this.prefix="",this.errors=[],this.context=e,this.input=r}return Z(t,[{key:"hasErrors",value:function(e){if(e){var t=!0,r=!1,a=void 0;try{for(var o,i=this.errors[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value,c=te(u,1),s=c[0];if(n(e,s))return!0}}catch(e){r=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw a}}return!1}return this.errors.length>0}},{key:"addError",value:function(e,t,r){return this.errors.push([e,r,t]),this}},{key:"clearError",value:function(e){var t=!1;if(e){var r=[],a=!0,o=!1,i=void 0;try{for(var u,c=this.errors[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value;n(e,s[0])?t=!0:r.push(s)}}catch(e){o=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}this.errors=r}else t=this.errors.length>0,this.errors=[];return t}},{key:"resolvePath",value:function(e){return r(this.input,e)}},{key:"toJSON",value:function(){return e(this)}}]),t}(),oe=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.name="RuntimeTypeError",a=r,ee(n,a)}return H(t,e),t}(TypeError),ie="\n-------------------------------------------------\n\n",ue=function(){function e(t){W(this,e),this.typeName="Type",this.context=t}return Z(e,[{key:"collectErrors",value:function(e,t,r){return!1}},{key:"accepts",value:function(e){throw new Error("Not implemented.")}},{key:"acceptsType",value:function(e){throw new Error("Not implemented.")}},{key:"assert",value:function(e){var t=o(this,e);if(t)throw"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(t,this.assert),t;return e}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(){throw new Error("Not implemented.")}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(),ce=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="AnyType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return!1}},{key:"accepts",value:function(e){return!0}},{key:"acceptsType",value:function(e){return!0}},{key:"toString",value:function(){return"any"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(ue),se={ERR_CONSTRAINT_VIOLATION:"violated a constraint",ERR_EXPECT_ARRAY:"must be an Array",ERR_EXPECT_TRUE:"must be true",ERR_EXPECT_FALSE:"must be false",ERR_EXPECT_BOOLEAN:"must be true or false",ERR_EXPECT_EMPTY:"must be empty",ERR_EXPECT_EXACT_VALUE:"must be exactly $0",ERR_EXPECT_CALLABLE:"must be callable",ERR_EXPECT_CLASS:"must be a Class of $0",ERR_EXPECT_FUNCTION:"must be a function",ERR_EXPECT_GENERATOR:"must be a generator function",ERR_EXPECT_ITERABLE:"must be iterable",ERR_EXPECT_ARGUMENT:'argument "$0" must be: $1',ERR_EXPECT_RETURN:"expected return type of: $0",ERR_EXPECT_N_ARGUMENTS:"requires $0 argument(s)",ERR_EXPECT_INSTANCEOF:"must be an instance of $0",ERR_EXPECT_KEY_TYPE:"keys must be: $0",ERR_EXPECT_NULL:"must be null",ERR_EXPECT_NUMBER:"must be a number",ERR_EXPECT_OBJECT:"must be an object",ERR_EXPECT_PROMISE:"must be promise of $0",ERR_EXPECT_STRING:"must be a string",ERR_EXPECT_SYMBOL:"must be a symbol",ERR_EXPECT_VOID:"must be undefined",ERR_INVALID_DATE:"must be a valid date",ERR_NO_INDEXER:"is not one of the permitted indexer types",ERR_NO_UNION:"must be one of: $0",ERR_UNKNOWN_KEY:'should not contain the key: "$0"'},pe=new WeakMap,ye=new WeakSet,le=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ArrayType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.context;if(!n.checkPredicate("Array",r))return e.addError(t,this,i("ERR_EXPECT_ARRAY")),!0;if(u(this,r))return!1;c(this,r);for(var a=this.elementType,o=r.length,p=!1,y=0;y<o;y++)a.collectErrors(e,t.concat(y),r[y])&&(p=!0);return s(this,r),p}},{key:"accepts",value:function(e){var t=this.context;if(!t.checkPredicate("Array",e))return!1;if(u(this,e))return!0;c(this,e);for(var r=this.elementType,n=e.length,a=0;a<n;a++)if(!r.accepts(e[a]))return s(this,e),!1;return s(this,e),!0}},{key:"acceptsType",value:function(e){return e instanceof t&&this.elementType.acceptsType(e.elementType)}},{key:"toString",value:function(){var e=this.elementType;if(p(this))return"string"==typeof e.name?"Array<$Cycle<"+e.name+">>":"Array<$Cycle<Object>>";y(this);var t="Array<"+e.toString()+">";return l(this),t}},{key:"toJSON",value:function(){return{typeName:this.typeName,elementType:this.elementType}}}]),t}(ue),fe=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="BooleanLiteralType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return r!==this.value&&(e.addError(t,this,i(this.value?"ERR_EXPECT_TRUE":"ERR_EXPECT_FALSE")),!0)}},{key:"accepts",value:function(e){return e===this.value}},{key:"acceptsType",value:function(e){return e instanceof t&&e.value===this.value}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"toJSON",value:function(){return{type:this.typeName,value:this.value}}}]),t}(ue),he=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="BooleanType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return"boolean"!=typeof r&&(e.addError(t,this,i("ERR_EXPECT_BOOLEAN")),!0)}},{key:"accepts",value:function(e){return"boolean"==typeof e}},{key:"acceptsType",value:function(e){return e instanceof t||e instanceof fe}},{key:"toString",value:function(){return"boolean"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(ue),ve=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="EmptyType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return e.addError(t,this,i("ERR_EXPECT_EMPTY")),!0}},{key:"accepts",value:function(e){return!1}},{key:"acceptsType",value:function(e){return e instanceof t}},{key:"toString",value:function(){return"empty"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(ue),me=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ExistentialType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return!1}},{key:"accepts",value:function(e){return!0}},{key:"acceptsType",value:function(e){return!0}},{key:"toString",value:function(){return"*"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(ue),de=Symbol("FlowInto"),ge=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeParameter",n[de]=null,a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.recorded,a=this.bound,o=this.context;if(a instanceof ke)return a.accepts(r);if(n)return n.collectErrors(e,t,r);if(a){if("AnyType"===a.typeName||"ExistentialType"===a.typeName)return!1;if(a.collectErrors(e,t,r))return!0}return this.recorded=o.typeOf(r),!1}},{key:"accepts",value:function(e){var t=this.recorded,r=this.bound,n=this.context;if(r instanceof ke)return r.accepts(e);if(t)return t.accepts(e);if(r){if("AnyType"===r.typeName||"ExistentialType"===r.typeName)return!0;if(!r.accepts(e))return!1}return this.recorded=n.typeOf(e),!0}},{key:"acceptsType",value:function(e){var r=this.recorded,n=this.bound;return e instanceof t||(r?r.acceptsType(e):!n||n.acceptsType(e))}},{key:"unwrap",value:function(){var e=this.recorded,t=this.bound;return e?e.unwrap():t?t.unwrap():this}},{key:"toString",value:function(e){var t=this.id,r=this.bound;return e&&r?t+": "+r.toString():t}},{key:"toJSON",value:function(){return{typeName:this.typeName,id:this.id,bound:this.bound,recorded:this.recorded}}}]),t}(ue),ke=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="FlowIntoType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,r,n){var a=this.typeParameter,o=this.context,i=a.recorded,u=a.bound;if(u instanceof t)return u.collectErrors(e,r,n);if(i)return!(!u||!u.collectErrors(e,r,n))||!i.accepts(n)&&(a.recorded=o.union(i,o.typeOf(n)),!1);if(u){if("AnyType"===u.typeName||"ExistentialType"===u.typeName)return!1;if(u.collectErrors(e,r,n))return!0}return a.recorded=o.typeOf(n),!1}},{key:"accepts",value:function(e){var r=this.typeParameter,n=this.context,a=r.recorded,o=r.bound;if(o instanceof t)return o.accepts(e);if(a)return!(o&&!o.accepts(e))&&(!!a.accepts(e)||(r.recorded=n.union(a,n.typeOf(e)),!0));if(o){if("AnyType"===o.typeName||"ExistentialType"===o.typeName)return!0;if(!o.accepts(e))return!1}return r.recorded=n.typeOf(e),!0}},{key:"acceptsType",value:function(e){var r=this.typeParameter,n=this.context,a=r.recorded,o=r.bound;if(o instanceof t)return o.acceptsType(e);if(a)return!(o&&!o.acceptsType(e))&&(!!a.acceptsType(e)||(r.recorded=n.union(a,e),!0));if(o){if("AnyType"===o.typeName||"ExistentialType"===o.typeName)return!0;if(!o.acceptsType(e))return!1}return r.recorded=e,!0}},{key:"unwrap",value:function(){return this.typeParameter.unwrap()}},{key:"toString",value:function(e){return this.typeParameter.toString(e)}},{key:"toJSON",value:function(){return this.typeParameter.toJSON()}}]),t}(ue),Te=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="FunctionTypeParam",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.optional,a=this.type;return(!n||void 0!==r)&&a.collectErrors(e,t,r)}},{key:"accepts",value:function(e){var t=this.optional,r=this.type;return!(!t||void 0!==e)||r.accepts(e)}},{key:"acceptsType",value:function(e){return e instanceof t?this.type.acceptsType(e.type):this.type.acceptsType(e)}},{key:"toString",value:function(){var e=this.optional,t=this.type;return""+this.name+(e?"?":"")+": "+t.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name,optional:this.optional,type:this.type}}}]),t}(ue),Ee=function(e){
function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="FunctionTypeRestParam",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.type;return n.collectErrors(e,t,r)}},{key:"accepts",value:function(e){var t=this.type;return t.accepts(e)}},{key:"acceptsType",value:function(e){return e instanceof Te||e instanceof t?this.type.acceptsType(e.type):this.type.acceptsType(e)}},{key:"toString",value:function(){var e=this.type;return"..."+this.name+": "+e.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name,type:this.type}}}]),t}(ue),_e=Symbol("Parent"),be=Symbol("NameRegistry"),Pe=Symbol("ModuleRegistry"),Ne=Symbol("CurrentModule"),Oe=Symbol("TypeConstructorRegistry"),Se=Symbol("Inferrer"),we=Symbol("Type"),Ae=Symbol("TypeParameters"),Re=Symbol("TypePredicateRegistry"),xe=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="FunctionType",n.params=[],a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){if("function"!=typeof r)return e.addError(t,this,i("ERR_EXPECT_FUNCTION")),!0;var n=r[we],a=this.returnType,o=this.params;if(n){for(var u=!1,c=0;c<o.length;c++){var s=o[c],p=n.params[c];p||s.optional?s.acceptsType(p)||(e.addError(t,this,i("ERR_EXPECT_ARGUMENT",s.name,s.type.toString())),u=!0):(e.addError(t,this,i("ERR_EXPECT_ARGUMENT",s.name,s.type.toString())),u=!0)}return a.acceptsType(n.returnType)||(e.addError(t,this,i("ERR_EXPECT_RETURN",a.toString())),u=!0),u}for(var y=this.context,l=0;l<o.length;l++){var f=o[l];f.acceptsType(y.any())}return a.acceptsType(y.any()),!1}},{key:"accepts",value:function(e){if("function"!=typeof e)return!1;var t=this.returnType,r=this.params,n=e[we];if(n){for(var a=0;a<r.length;a++){var o=r[a],i=n.params[a];if(!i&&!o.optional)return!1;if(!o.acceptsType(i))return!1}return!!t.acceptsType(n.returnType)}for(var u=this.context,c=0;c<r.length;c++){var s=r[c];s.acceptsType(u.any())}return t.acceptsType(u.any()),!0}},{key:"acceptsType",value:function(e){if(!(e instanceof t))return!1;var r=this.returnType,n=e.returnType;if(!r.acceptsType(n))return!1;var a=this.params,o=e.params;if(o.length<a.length)return!1;for(var i=0;i<a.length;i++){var u=a[i],c=o[i];if(!u.acceptsType(c))return!1}return!0}},{key:"acceptsParams",value:function(){for(var e=this.params,t=this.rest,r=e.length,n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];for(var i=a.length,u=0;u<r;u++){var c=e[u];if(u<i){if(!c.accepts(a[u]))return!1}else if(!c.accepts(void 0))return!1}if(i>r&&t)for(var s=r;s<i;s++)if(!t.accepts(a[s]))return!1;return!0}},{key:"acceptsReturn",value:function(e){return this.returnType.accepts(e)}},{key:"assertParams",value:function(){for(var e=this.params,t=this.rest,r=e.length,n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];for(var i=a.length,u=0;u<r;u++){var c=e[u];u<i?c.assert(a[u]):c.assert(void 0)}if(i>r&&t)for(var s=r;s<i;s++)t.assert(a[s]);return a}},{key:"assertReturn",value:function(e){return this.returnType.assert(e),e}},{key:"toString",value:function(){for(var e=this.params,t=this.rest,r=this.returnType,n=[],a=0;a<e.length;a++)n.push(e[a].toString());return t&&n.push(t.toString()),"("+n.join(", ")+") => "+r.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,params:this.params,rest:this.rest,returnType:this.returnType}}}]),t}(ue),Ce=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="FunctionTypeReturn",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.type;return n.collectErrors(e,t.concat("[[Return Type]]"),r)}},{key:"accepts",value:function(e){var t=this.type;return t.accepts(e)}},{key:"acceptsType",value:function(e){return e instanceof t?this.type.acceptsType(e.type):this.type.acceptsType(e)}},{key:"unwrap",value:function(){return this.type}},{key:"toString",value:function(){var e=this.type;return e.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),t}(ue),je=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="GeneratorType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=r&&"function"==typeof r.next&&"function"==typeof r.return&&"function"==typeof r.throw;return!n&&(e.addError(t,this,i("ERR_EXPECT_GENERATOR")),!0)}},{key:"accepts",value:function(e){return e&&"function"==typeof e.next&&"function"==typeof e.return&&"function"==typeof e.throw}},{key:"acceptsType",value:function(e){return e instanceof t?this.yieldType.acceptsType(e.yieldType)&&this.returnType.acceptsType(e.returnType)&&this.nextType.acceptsType(e.nextType):this.yieldType.accepts(e)}},{key:"acceptsYield",value:function(e){return this.yieldType.accepts(e)}},{key:"acceptsReturn",value:function(e){return this.returnType.accepts(e)}},{key:"acceptsNext",value:function(e){return this.nextType.accepts(e)}},{key:"assertYield",value:function(e){return this.yieldType.assert(e)}},{key:"assertReturn",value:function(e){return this.returnType.assert(e)}},{key:"assertNext",value:function(e){return this.nextType.assert(e)}},{key:"toString",value:function(){var e=this.yieldType,t=this.returnType,r=this.nextType;return"Generator<"+e.toString()+", "+t.toString()+", "+r.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,yieldType:this.yieldType,returnType:this.returnType,nextType:this.nextType}}}]),t}(ue),Ie=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeParameterApplication",n.typeInstances=[],a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.parent,a=this.typeInstances;return n.collectErrors.apply(n,[e,t,r].concat(re(a)))}},{key:"accepts",value:function(e){var t=this.parent,r=this.typeInstances;return t.accepts.apply(t,[e].concat(re(r)))}},{key:"acceptsType",value:function(e){return this.parent.acceptsType(e)}},{key:"hasProperty",value:function(e){var t=this.parent;if(t&&"function"==typeof t.hasProperty){var r;return(r=t).hasProperty.apply(r,[e].concat(re(this.typeInstances)))}return!1}},{key:"getProperty",value:function(e){var t=this.parent;if(t&&"function"==typeof t.getProperty){var r;return(r=t).getProperty.apply(r,[e].concat(re(this.typeInstances)))}}},{key:"toString",value:function(){var e=this.parent,t=this.typeInstances,r=e.name;if(t.length){for(var n=[],a=0;a<t.length;a++){var o=t[a];n.push(o.toString())}return r+"<"+n.join(", ")+">"}return r}},{key:"toJSON",value:function(){return{typeName:this.typeName,typeInstances:this.typeInstances}}}]),t}(ue),Xe=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeConstructor",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){throw new Error("Not implemented: collectErrors().")}},{key:"accepts",value:function(e){throw new Error("Not implemented: accepts().")}},{key:"acceptsType",value:function(e){throw new Error("Not implemented: acceptsType().")}},{key:"inferTypeParameters",value:function(e){throw new Error("No inferrer for "+this.name+".")}},{key:"apply",value:function(){var e=new Ie(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(){return this.name}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name}}}]),t}(ue),Je=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="GenericType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.name,a=this.impl;return!(r instanceof a)&&(e.addError(t,this,i("ERR_EXPECT_INSTANCEOF",n)),!0)}},{key:"accepts",value:function(e){return e instanceof this.impl}},{key:"acceptsType",value:function(e){return e instanceof t&&e.impl===this.impl}},{key:"inferTypeParameters",value:function(e){return[]}}]),t}(Xe),Me=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="IntersectionType",n.types=[],a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){for(var n=this.types,a=n.length,o=!1,i=0;i<a;i++){var u=n[i];u.collectErrors(e,t,r)&&(o=!0)}return o}},{key:"getProperty",value:function(e){for(var t=this.types,r=t.length,n=r-1;n>=0;n--){var a=t[n];if("function"==typeof a.getProperty){var o=a.getProperty(e);if(o)return o}}}},{key:"hasProperty",value:function(e){for(var t=this.types,r=t.length,n=0;n<r;n++){var a=t[n];if("function"==typeof a.hasProperty&&a.hasProperty(e))return!0}return!1}},{key:"accepts",value:function(e){for(var t=this.types,r=t.length,n=0;n<r;n++){var a=t[n];if(!a.accepts(e))return!1}return!0}},{key:"acceptsType",value:function(e){var r=this.types;if(e instanceof t){var n=e.types;e:for(var a=0;a<r.length;a++){for(var o=r[a],i=0;i<n.length;i++)if(o.acceptsType(n[a]))continue e;return!1}return!0}for(var u=0;u<r.length;u++){var c=r[u];if(!c.acceptsType(e))return!1}return!0}},{key:"toString",value:function(){return this.types.join(" & ")}},{key:"toJSON",value:function(){return{typeName:this.typeName,types:this.types}}}]),t}(ue),Le=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="MixedType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return!1}},{key:"accepts",value:function(e){return!0}},{key:"toString",value:function(){return"mixed"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(ue),$e=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeAlias",n.constraints=[],a=r,ee(n,a)}return H(t,e),Z(t,[{key:"addConstraint",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.apply(void 0,[this].concat(re(t))),this}},{key:"collectErrors",value:function(e,t,r){var n=this.type,a=!1;return n.collectErrors(e,t,r)?a=!0:v(this,e,t,r)&&(a=!0),a}},{key:"accepts",value:function(e){var t=this.type;return!!t.accepts(e)&&!!m(this,e)}},{key:"acceptsType",value:function(e){return this.type.acceptsType(e)}},{key:"apply",value:function(){var e=new Ie(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"hasProperty",value:function(e){var t=this.unwrap();return!(!t||"function"!=typeof t.hasProperty)&&t.hasProperty(e)}},{key:"getProperty",value:function(e){var t=this.unwrap();if(t&&"function"==typeof t.getProperty)return t.getProperty(e)}},{key:"toString",value:function(e){var t=this.name,r=this.type;return e?"type "+t+" = "+r.toString()+";":t}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name,type:this.type}}}]),t}(ue),De=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="NullableType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return null!=r&&this.type.collectErrors(e,t,r)}},{key:"accepts",value:function(e){return null==e||this.type.accepts(e)}},{key:"acceptsType",value:function(e){return e instanceof t?this.type.acceptsType(e.type):this.type.acceptsType(e)}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return"? "+this.type.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),t}(ue),Be=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="NullLiteralType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return null!==r&&(e.addError(t,this,i("ERR_EXPECT_NULL")),!0)}},{key:"accepts",value:function(e){return null===e}},{key:"acceptsType",value:function(e){return e instanceof t}},{key:"toString",value:function(){return"null"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(ue),Fe=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="NumericLiteralType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.value;return r!==n&&(e.addError(t,this,i("ERR_EXPECT_EXACT_VALUE",n)),!1)}},{key:"accepts",value:function(e){return e===this.value}},{key:"acceptsType",value:function(e){return e instanceof t&&e.value===this.value}},{key:"toString",value:function(){return""+this.value}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),t}(ue),Ue=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="NumberType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return"number"!=typeof r&&(e.addError(t,this,i("ERR_EXPECT_NUMBER")),!1)}},{key:"accepts",value:function(e){return"number"==typeof e}},{key:"acceptsType",value:function(e){return e instanceof t||e instanceof Fe}},{key:"toString",value:function(){return"number"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(ue),Ve=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ObjectTypeProperty",n.constraints=[],a=r,ee(n,a)}return H(t,e),Z(t,[{key:"addConstraint",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.apply(void 0,[this].concat(re(t))),this}},{key:"collectErrors",value:function(e,t,r){var n=this.optional,a=this.key,o=this.value;if(n&&void 0===r[a])return!1;var i=!1;return o.collectErrors(e,t.concat(a),r[a])?i=!0:v(this,e,t.concat(a),r[a])&&(i=!0),i}},{key:"accepts",value:function(e){return!(!this.optional||void 0!==e[this.key])||!!this.value.accepts(e[this.key])&&m(this,e[this.key])}},{key:"acceptsType",value:function(e){return e instanceof t&&this.value.acceptsType(e.value)}},{key:"unwrap",value:function(){return this.value.unwrap()}},{key:"toString",value:function(){return this.static?"static "+this.key+(this.optional?"?":"")+": "+this.value.toString()+";":""+this.key+(this.optional?"?":"")+": "+this.value.toString()+";"}},{key:"toJSON",value:function(){return{typeName:this.typeName,key:this.key,value:this.value,optional:this.optional}}}]),t}(ue),ze=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ObjectTypeIndexer",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r,n){"NumberType"!==this.key.typeName&&"NumericLiteralType"!==this.key.typeName||(r=+r);var a=this.key.collectErrors(e,t.concat("[[Key]]"),r);return this.value.collectErrors(e,t.concat(r),n)&&(a=!0),a}},{key:"accepts",value:function(e){return this.value.accepts(e)}},{key:"acceptsKey",value:function(e){return"NumberType"!==this.key.typeName&&"NumericLiteralType"!==this.key.typeName||(e=+e),this.key.accepts(e)}},{key:"acceptsValue",value:function(e){return this.value.accepts(e)}},{key:"acceptsType",value:function(e){return e instanceof t&&(this.key.acceptsType(e.key)&&this.value.acceptsType(e.value))}},{key:"unwrap",value:function(){return this.value.unwrap()}},{key:"toString",value:function(){return"["+this.id+": "+this.key.toString()+"]: "+this.value.toString()+";"}},{key:"toJSON",value:function(){return{typeName:this.typeName,id:this.id,key:this.key,value:this.value}}}]),t}(ue),Ke=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ObjectTypeCallProperty",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return this.value.collectErrors(e,t,r)}},{key:"accepts",value:function(e){return this.value.accepts(e)}},{key:"acceptsType",value:function(e){return e instanceof t&&this.value.acceptsType(e.value)}},{key:"unwrap",value:function(){return this.value.unwrap()}},{key:"toString",value:function(){return this.value.toString()+";"}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),t}(ue),Ye=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ObjectType",n.properties=[],n.indexers=[],n.callProperties=[],n.exact=!1,a=r,ee(n,a)}return H(t,e),Z(t,[{key:"getProperty",value:function(e){for(var t=this.properties,r=t.length,n=0;n<r;n++){var a=t[n];if(a.key===e)return a}return this.getIndexer(e)}},{key:"hasProperty",value:function(e){for(var t=this.properties,r=t.length,n=0;n<r;n++){var a=t[n];if(a.key===e)return!0}return this.hasIndexer(e)}},{key:"getIndexer",value:function(e){for(var t=this.indexers,r=t.length,n=0;n<r;n++){var a=t[n];if(a.acceptsKey(e))return a}}},{key:"hasIndexer",value:function(e){for(var t=this.indexers,r=t.length,n=0;n<r;n++){var a=t[n];if(a.acceptsKey(e))return!0}return!1}},{key:"collectErrors",value:function(e,t,r){if(null===r)return e.addError(t,this,i("ERR_EXPECT_OBJECT")),!0;var n=this.callProperties.length>0;if(n)d(this,r)||e.addError(t,this,i("ERR_EXPECT_CALLABLE"));else if("object"!==("undefined"==typeof r?"undefined":G(r)))return e.addError(t,this,i("ERR_EXPECT_OBJECT")),!0;if(u(this,r))return!1;c(this,r);var a=void 0;return a=this.indexers.length>0?P(this,e,t,r):this.exact?O(this,e,t,r):N(this,e,t,r),s(this,r),a}},{key:"accepts",value:function(e){if(null===e)return!1;var t=this.callProperties.length>0;if(t){if(!d(this,e))return!1}else if("object"!==("undefined"==typeof e?"undefined":G(e)))return!1;if(u(this,e))return!0;c(this,e);var r=void 0;return r=this.indexers.length>0?k(this,e):this.exact?_(this,e):E(this,e),s(this,e),r}},{key:"acceptsType",value:function(e){if(!(e instanceof t))return!1;var r=this.callProperties.length>0;return!(r&&!g(this,e))&&(this.indexers.length>0?T(this,e):b(this,e))}},{key:"toString",value:function(){var e=this.callProperties,t=this.properties,r=this.indexers;if(p(this))return"$Cycle<Object>";y(this);for(var n=[],a=0;a<e.length;a++)n.push(e[a].toString());for(var o=0;o<t.length;o++)n.push(t[o].toString());for(var i=0;i<r.length;i++)n.push(r[i].toString());return l(this),this.exact?"{|\n"+S(n.join("\n"))+"\n|}":"{\n"+S(n.join("\n"))+"\n}"}},{key:"toJSON",value:function(){return{typeName:this.typeName,callProperties:this.callProperties,properties:this.properties,indexers:this.indexers,exact:this.exact}}}]),t}(ue),Ge=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="PartialType",n.typeParameters=[],a=r,ee(n,a)}return H(t,e),Z(t,[{key:"typeParameter",value:function(e,t){var r=new ge(this.context);return r.id=e,r.bound=t,this.typeParameters.push(r),r}},{key:"apply",value:function(){var e=new Ie(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"collectErrors",value:function(e,t,r){var n=this.constraints,a=this.type,o=!1;return a.collectErrors(e,t,r)?o=!0:n&&v(this,e,t,r)&&(o=!0),o}},{key:"accepts",value:function(e){var t=this.constraints,r=this.type;return!!r.accepts(e)&&!(t&&!m(this,e))}},{key:"acceptsType",value:function(e){return this.type.acceptsType(e)}},{key:"toString",value:function(e){var t=this.type;return t.toString(e)}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toJSON",value:function(){return{typeName:this.typeName,typeParameters:this.typeParameters,type:this.type}}}]),t}(ue),We=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ParameterizedTypeAlias",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){for(var n=arguments.length,a=Array(n>3?n-3:0),o=3;o<n;o++)a[o-3]=arguments[o];var i=w.apply(void 0,[this].concat(re(a)));return i.collectErrors(e,t,r)}},{key:"accepts",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=w.apply(void 0,[this].concat(re(r)));return!!a.accepts(e)&&!!m(this,e)}},{key:"acceptsType",value:function(e){return w(this).acceptsType(e)}},{key:"hasProperty",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=this.unwrap.apply(this,re(r));return!(!a||"function"!=typeof a.hasProperty)&&a.hasProperty.apply(a,[e].concat(re(r)))}},{key:"getProperty",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=this.unwrap.apply(this,re(r));if(a&&"function"==typeof a.getProperty)return a.getProperty.apply(a,[e].concat(re(r)))}},{key:"unwrap",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.apply(void 0,[this].concat(re(t))).unwrap()}},{key:"toString",value:function(e){for(var t=w(this),r=t.typeParameters,n=[],a=0;a<r.length;a++){var o=r[a];n.push(o.toString(!0))}var i=this.name,u=r.length>0?i+"<"+n.join(", ")+">":i;return e?"type "+u+" = "+t.toString()+";":u}},{key:"toJSON",value:function(){var e=w(this);return e.toJSON()}}]),t}($e),Ze=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ParameterizedFunctionType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){for(var n=arguments.length,a=Array(n>3?n-3:0),o=3;o<n;o++)a[o-3]=arguments[o];return A.apply(void 0,[this].concat(re(a))).collectErrors(e,t,r)}},{key:"accepts",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return A.apply(void 0,[this].concat(re(r))).accepts(e)}},{key:"acceptsType",value:function(e){return A(this).acceptsType(e)}},{key:"acceptsParams",value:function(){var e;return(e=A(this).type).acceptsParams.apply(e,arguments)}},{key:"acceptsReturn",value:function(e){return A(this).type.acceptsReturn(e)}},{key:"assertParams",value:function(){var e;return(e=A(this).type).assertParams.apply(e,arguments)}},{key:"assertReturn",value:function(e){return A(this).type.assertReturn(e)}},{key:"unwrap",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return A.apply(void 0,[this].concat(re(t))).unwrap()}},{key:"toString",value:function(){var e=A(this),t=e.type,r=e.typeParameters;if(0===r.length)return t.toString();for(var n=[],a=0;a<r.length;a++){var o=r[a];n.push(o.toString(!0))}return"<"+n.join(", ")+"> "+t.toString()}},{key:"toJSON",value:function(){var e=A(this);return e.toJSON()}},{key:"typeParameters",get:function(){return A(this).typeParameters}},{key:"params",get:function(){return A(this).type.params}},{key:"rest",get:function(){return A(this).type.rest}},{key:"returnType",get:function(){return A(this).type.returnType}}]),t}(ue),qe=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="RefinmentType",n.constraints=[],a=r,ee(n,a)}return H(t,e),Z(t,[{key:"addConstraint",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.apply(void 0,[this].concat(re(t))),this}},{key:"collectErrors",value:function(e,t,r){var n=this.type;return!!n.collectErrors(e,t,r)||!!v(this,e,t,r)}},{key:"accepts",value:function(e){var t=this.type;return!!t.accepts(e)&&!!m(this,e)}},{key:"acceptsType",value:function(e){return this.type.acceptsType(e)}},{key:"apply",value:function(){var e=new Ie(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"hasProperty",value:function(e){var t=this.unwrap();return!(!t||"function"!=typeof t.hasProperty)&&t.hasProperty(e)}},{key:"getProperty",value:function(e){var t=this.unwrap();if(t&&"function"==typeof t.getProperty)return t.getProperty(e)}},{key:"toString",value:function(){var e=this.type;return"$Refinment<"+e.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),t}(ue),He=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="StringLiteralType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.value;return r!==n&&(e.addError(t,this,i("ERR_EXPECT_EXACT_VALUE",this.toString())),!0)}},{key:"accepts",value:function(e){return e===this.value}},{key:"acceptsType",value:function(e){return e instanceof t&&e.value===this.value}},{key:"toString",value:function(){return JSON.stringify(this.value)}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),t}(ue),Qe=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="StringType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return"string"!=typeof r&&(e.addError(t,this,i("ERR_EXPECT_STRING")),!0)}},{key:"accepts",value:function(e){return"string"==typeof e}},{key:"acceptsType",value:function(e){return e instanceof t||e instanceof He}},{key:"toString",value:function(){return"string"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(ue),et=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="SymbolLiteralType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.value;return r!==n&&(e.addError(t,this,i("ERR_EXPECT_EXACT_VALUE",this.toString())),!0)}},{key:"accepts",value:function(e){return e===this.value}},{key:"acceptsType",value:function(e){return e instanceof t&&e.value===this.value}},{key:"toString",value:function(){return"typeof "+this.value.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),t}(ue),tt=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="SymbolType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return"symbol"!==("undefined"==typeof r?"undefined":G(r))&&(e.addError(t,this,i("ERR_EXPECT_SYMBOL")),!0)}},{key:"accepts",value:function(e){return"symbol"===("undefined"==typeof e?"undefined":G(e))}},{key:"acceptsType",value:function(e){return e instanceof t||e instanceof et}},{key:"toString",value:function(){return"Symbol"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(ue),rt=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TupleType",n.types=[],a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.types,a=n.length,o=this.context;if(!o.checkPredicate("Array",r))return e.addError(t,this,i("ERR_EXPECT_ARRAY")),!0;for(var u=!1,c=0;c<a;c++){var s=n[c];s.collectErrors(e,t.concat(c),r[c])&&(u=!0)}return u}},{key:"accepts",value:function(e){var t=this.types,r=t.length,n=this.context;if(!n.checkPredicate("Array",e)||e.length<r)return!1;for(var a=0;a<r;a++){var o=t[a];if(!o.accepts(e[a]))return!1}return!0}},{key:"acceptsType",value:function(e){if(!(e instanceof t))return!1;var r=this.types,n=e.types;if(n.length<r.length)return!1;for(var a=0;a<r.length;a++)if(!r[a].acceptsType(n[a]))return!1;return!0}},{key:"toString",value:function(){return"["+this.types.join(", ")+"]"}},{key:"toJSON",value:function(){return{typeName:this.typeName,types:this.types}}}]),t}(ue),nt=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeBox",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return this.type.collectErrors(e,t,r)}},{key:"accepts",value:function(e){return this.type.accepts(e)}},{key:"acceptsType",value:function(e){return this.type.acceptsType(e)}},{key:"apply",value:function(){var e=new Ie(this.context);e.parent=this.type;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return this.type.toString()}},{key:"toJSON",value:function(){return this.type.toJSON()}},{key:"name",get:function(){var e=this.reveal,t=e();return t.name}},{key:"type",get:function(){var e=this.reveal,t=e();if(!t)throw new ReferenceError("Cannot reveal boxed type.");return t}}]),t}(ue),at={},ot=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeReference",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return this.type.collectErrors(e,t,r)}},{key:"accepts",value:function(e){return this.type.accepts(e)}},{key:"acceptsType",value:function(e){return this.type.acceptsType(e)}},{key:"apply",value:function(){var e=new Ie(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",
value:function(){return this.name}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name}}},{key:"type",get:function(){var e=this.context,t=this.name,r=e.get(t);return r?r:(at[t]||(e.emitWarningMessage("Cannot resolve type: "+t),at[t]=!0),e.any())}}]),t}(ue),it=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="UnionType",n.types=[],a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){for(var n=this.types,a=n.length,o=0;o<a;o++){var u=n[o];if(u.accepts(r))return!1}return e.addError(t,this,i("ERR_NO_UNION",this.toString())),!0}},{key:"accepts",value:function(e){for(var t=this.types,r=t.length,n=0;n<r;n++){var a=t[n];if(a.accepts(e))return!0}return!1}},{key:"acceptsType",value:function(e){var r=this.types;if(e instanceof t){var n=e.types;e:for(var a=0;a<r.length;a++){for(var o=r[a],i=0;i<n.length;i++)if(o.acceptsType(n[a]))continue e;return!1}return!0}for(var u=0;u<r.length;u++){var c=r[u];if(c.acceptsType(e))return!0}return!1}},{key:"toString",value:function(){return this.types.join(" | ")}},{key:"toJSON",value:function(){return{typeName:this.typeName,types:this.types}}}]),t}(ue),ut=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="VoidType",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return void 0!==r&&(e.addError(t,this,i("ERR_EXPECT_VOID")),!0)}},{key:"accepts",value:function(e){return void 0===e}},{key:"acceptsType",value:function(e){return e instanceof t}},{key:"toString",value:function(){return"void"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(ue),ct=function(){function e(t){W(this,e),this.context=t}return Z(e,[{key:"infer",value:function(e){var t=this.inferPrimitive(e);if(t)return t;var r=new Map;return this.inferComplex(e,r)}},{key:"inferInternal",value:function(e,t){var r=this.inferPrimitive(e);return r?r:this.inferComplex(e,t)}},{key:"inferPrimitive",value:function(e){var t=this.context;return null===e?t.null():void 0===e?t.void():"number"==typeof e?t.number():"boolean"==typeof e?t.boolean():"string"==typeof e?t.string():"symbol"===("undefined"==typeof e?"undefined":G(e))?t.symbol(e):void 0}},{key:"inferComplex",value:function(e,t){var r=this.context;return"function"==typeof e?this.inferFunction(e,t):null!==e&&"object"===("undefined"==typeof e?"undefined":G(e))?this.inferObject(e,t):r.any()}},{key:"inferFunction",value:function(e,t){for(var r=this.context,n=e.length,a=new Array(n+1),o=0;o<n;o++)a[o]=r.param(String.fromCharCode(97+o),r.existential());return a[n]=r.return(r.existential()),r.fn.apply(r,a)}},{key:"inferObject",value:function(e,t){var r=t.get(e);if(r)return r;var n=this.context,a=void 0,o=n.box(function(){return a});if(t.set(e,o),n.checkPredicate("Array",e))a=this.inferArray(e,t);else if(e instanceof Object)if(e.constructor!==Object){var i=n.getTypeConstructor(e.constructor);if(i){var u=i.inferTypeParameters(e);a=i.apply.apply(i,re(u))}else a=n.ref(e.constructor)}else{var c=[];for(var s in e){var p=e[s];c.push(n.property(s,this.inferInternal(p,t)))}a=n.object.apply(n,c)}else a=this.inferDict(e,t);return t.set(e,a),a}},{key:"inferDict",value:function(e,t){var r=[],n=[];e:for(var a in e){for(var o=e[a],i=isNaN(+a)?n:r,u=0;u<i.length;u++){var c=i[u];if(c.accepts(o))continue e}i.push(this.inferInternal(o,t))}var s=this.context,p=[];return 1===r.length?p.push(s.indexer("index",s.number(),r[0])):r.length>1&&p.push(s.indexer("index",s.number(),s.union.apply(s,r))),1===n.length?p.push(s.indexer("key",s.string(),n[0])):n.length>1&&p.push(s.indexer("key",s.string(),s.union.apply(s,n))),s.object.apply(s,p)}},{key:"inferArray",value:function(e,t){var r=this.context,n=[],a=[],o=e.length;e:for(var i=0;i<o;i++){for(var u=e[i],c=this.inferInternal(u,t),s=0;s<n.length;s++){var p=n[s];if(p.accepts(u)&&c.accepts(a[s]))continue e}n.push(c),a.push(u)}return 0===n.length?r.array(r.any()):1===n.length?r.array(n[0]):r.array(r.union.apply(r,n))}}]),e}(),st="\n-------------------------------------------------\n\n",pt=function(e){function t(){return W(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return H(t,e),t}(ue),yt=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="VarDeclaration",n.constraints=[],a=r,ee(n,a)}return H(t,e),Z(t,[{key:"addConstraint",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.apply(void 0,[this].concat(re(t))),this}},{key:"collectErrors",value:function(e,t,r){var n=this.type,a=!1;return n.collectErrors(e,t,r)?a=!0:v(this,e,t,r)&&(a=!0),a}},{key:"accepts",value:function(e){var t=this.type;return!!t.accepts(e)&&!!m(this,e)}},{key:"acceptsType",value:function(e){return this.type.acceptsType(e)}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return"declare var "+this.name+": "+this.type.toString()+";"}}]),t}(pt),lt=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeDeclaration",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"addConstraint",value:function(){var e;return(e=this.typeAlias).addConstraint.apply(e,arguments),this}},{key:"collectErrors",value:function(e,t,r){return this.typeAlias.collectErrors(e,t,r)}},{key:"apply",value:function(){var e;return(e=this.typeAlias).apply.apply(e,arguments)}},{key:"accepts",value:function(e){return this.typeAlias.accepts(e)}},{key:"acceptsType",value:function(e){return this.typeAlias.acceptsType(e)}},{key:"hasProperty",value:function(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return(t=this.typeAlias).hasProperty.apply(t,[e].concat(re(n)))}},{key:"getProperty",value:function(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return(t=this.typeAlias).getProperty.apply(t,[e].concat(re(n)))}},{key:"unwrap",value:function(){var e;return(e=this.typeAlias).unwrap.apply(e,arguments)}},{key:"toString",value:function(){return"declare "+this.typeAlias.toString(!0)+";"}},{key:"type",get:function(){return this.typeAlias.type}}]),t}(pt),ft=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ModuleDeclaration",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"get",value:function(e){var t=this.moduleExports;if(t){var r=t.unwrap();if("function"==typeof r.getProperty){var n=r.getProperty(e);if(n)return n.unwrap()}}else{var a=this.declarations[e];if(a)return a.unwrap()}}},{key:"collectErrors",value:function(e,t,r){return!1}},{key:"import",value:function(e){return/^\.\//.test(e)&&(e=""+this.name+e.slice(1)),this.innerContext.import(e)}},{key:"toString",value:function(){var e=this.name,t=this.declarations,r=this.modules,n=this.moduleExports,a=[];for(var o in t){var i=t[o];a.push(i.toString(!0))}if(r)for(var u in r){var c=r[u];a.push(c.toString())}return n&&a.push(n.toString()),'declare module "'+e+'" {\n'+z(a.join("\n\n"))+"}"}},{key:"moduleType",get:function(){return this.moduleExports?"commonjs":"es6"}},{key:"isCommonJS",get:function(){return!!this.moduleExports}},{key:"isES6",get:function(){return!this.moduleExports}},{key:"declarations",get:function(){var e=this.innerContext;return e[be]}},{key:"modules",get:function(){var e=this.innerContext;return e[Pe]}}]),t}(pt),ht=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ModuleExports",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return this.type.collectErrors(e,t,r)}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return"declare module.exports: "+this.type.toString()+";"}}]),t}(pt),vt=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ClassDeclaration",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){var n=this.body,a=this.superClass&&this.superClass.unwrap();if(null===r||"object"!==("undefined"==typeof r?"undefined":G(r))&&"function"!=typeof r)return e.addError(t,this,i("ERR_EXPECT_INSTANCEOF",this.name)),!0;var o=!1;if(a&&a.collectErrors(e,t,r)){var u=!1,c=!0,s=!1,p=void 0;try{for(var y,l=n.properties[Symbol.iterator]();!(c=(y=l.next()).done);c=!0){var f=y.value;e.clearError(t.concat(f.key))&&(u=!0)}}catch(e){s=!0,p=e}finally{try{!c&&l.return&&l.return()}finally{if(s)throw p}}o=!u||e.hasErrors(t)}return!!n.collectErrors(e,t,r)||o}},{key:"getProperty",value:function(e){var t=this.body,r=this.superClass,n=t.getProperty(e);return n?n:r&&"function"==typeof r.getProperty?r.getProperty(e):void 0}},{key:"hasProperty",value:function(e){var t=this.body,r=this.superClass;return!!t.hasProperty(e)||!(!r||"function"!=typeof r.hasProperty)&&r.hasProperty(e)}},{key:"apply",value:function(){var e=new Ie(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"toString",value:function(e){var t=this.name,r=this.superClass,n=this.body,a=r&&("string"==typeof r.name&&r.name||r.toString());return(e?"declare ":"")+"class "+t+(a?" extends "+a:"")+" "+n.toString()}}]),t}(pt),mt=function(e){function t(){var e,r,n,a;W(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ExtendsDeclaration",a=r,ee(n,a)}return H(t,e),Z(t,[{key:"collectErrors",value:function(e,t,r){return this.type.collectErrors(e,t,r)}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(e){var t=this.type;return e?"extends "+t.toString():t.toString()}}]),t}(pt),dt=new WeakSet,gt=function(){function t(){W(this,t),this.mode="assert",this[be]={},this[Re]={},this[Oe]=new Map,this[Se]=new ct(this),this[Pe]={}}return Z(t,[{key:"makeJSONError",value:function(t){return e(t)}},{key:"makeTypeError",value:function(e){return a(e)}},{key:"createContext",value:function(){var e=new t;return e[_e]=this,e}},{key:"typeOf",value:function(e){var t=this.getAnnotation(e);if(t)return t;var r=this[Se];return r.infer(e)}},{key:"get",value:function(e){var t=this[be][e];if(null!=t)return"function"==typeof t?new t(this):t;var r=this[_e];return r?r.get(e):void 0}},{key:"getPredicate",value:function(e){var t=this[Re][e];if(t)return t;var r=this[_e];return r?r.getPredicate(e):void 0}},{key:"setPredicate",value:function(e,t){this[Re][e]=t}},{key:"checkPredicate",value:function(e,t){var r=this.getPredicate(e);return!!r&&r(t)}},{key:"decorate",value:function(e,t){var r=this;return null==t&&(t="assert"===this.mode),function(n,a,o){return o&&"string"==typeof a?L(e,n,a,o,Boolean(t)):(x("function"!=typeof e,"Cannot decorate an object or function as a method."),r.annotate(n,e))}}},{key:"annotate",value:function(e,t){return void 0===t?V(e):V(e,t)}},{key:"getAnnotation",value:function(e){if(null!==e&&"object"===("undefined"==typeof e?"undefined":G(e))||"function"==typeof e)return e[we]}},{key:"hasAnnotation",value:function(e){return null!=e&&!!e[we]}},{key:"setAnnotation",value:function(e,t){return e[we]=t,e}},{key:"type",value:function(e,t){if("function"==typeof t){var r=new We(this);return r.name=e,r.typeCreator=t,r}var n=new $e(this);return n.name=e,n.type=t,n}},{key:"declare",value:function(e,t){if(e instanceof pt?(t=e,e=t.name):e instanceof $e&&(t=e,e=t.name),"function"==typeof t&&(t=this.type(e,t)),t instanceof ft){var r=this[Pe];if(r[e])throw new Error("Cannot redeclare module: "+e);return r[e]=t,t}x(t,"Type must be supplied to declaration");var n=this[be];if(n[e])throw new Error("Cannot redeclare type: "+e);if(t instanceof pt)return n[e]=t,t;if(t instanceof $e||t instanceof We){var a=new lt(this);return a.name=e,a.typeAlias=t,n[e]=a,a}var o=this.var(e,t);return n[e]=o,o}},{key:"declarations",value:regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this[be],e.t0=regeneratorRuntime.keys(t);case 2:if((e.t1=e.t0()).done){e.next=8;break}return r=e.t1.value,e.next=6,[r,t[r]];case 6:e.next=2;break;case 8:case"end":return e.stop()}},e,this)})},{key:"modules",value:regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this[Pe],e.t0=regeneratorRuntime.keys(t);case 2:if((e.t1=e.t0()).done){e.next=8;break}return r=e.t1.value,e.next=6,t[r];case 6:e.next=2;break;case 8:case"end":return e.stop()}},e,this)})},{key:"import",value:function(e){var t=this[Pe];if(t[e])return t[e];var r=e.split("/"),n=te(r,1),a=n[0],o=t[a];if(o)return o.import(e);var i=this[_e];return i?i.import(e):void 0}},{key:"declareTypeConstructor",value:function(e){var t=e.name,r=e.impl,n=e.typeName,a=e.collectErrors,o=e.accepts,i=e.inferTypeParameters,u=this[be];if(u[t])throw new Error("Cannot redeclare type: "+t);var c=new Xe(this);if(c.name=t,c.typeName=n,c.impl=r,c.collectErrors=a,c.accepts=o,c.inferTypeParameters=i,u[t]=c,"function"==typeof r){var s=this[Oe];if(s.has(r))throw new Error("A type handler already exists for the given implementation.");s.set(r,c)}return c}},{key:"getTypeConstructor",value:function(e){var t=this[Oe];return t.get(e)}},{key:"null",value:function(){return Y.null}},{key:"nullable",value:function(e){var t=new De(this);return t.type=e,t}},{key:"existential",value:function(){return Y.existential}},{key:"empty",value:function(){return Y.empty}},{key:"any",value:function(){return Y.any}},{key:"mixed",value:function(){return Y.mixed}},{key:"void",value:function(){return Y.void}},{key:"number",value:function(e){if(void 0!==e){var t=new Fe(this);return t.value=e,t}return Y.number}},{key:"boolean",value:function(e){if(void 0!==e){var t=new fe(this);return t.value=e,t}return Y.boolean}},{key:"string",value:function(e){if(void 0!==e){var t=new He(this);return t.value=e,t}return Y.string}},{key:"symbol",value:function(e){if(void 0!==e){var t=new et(this);return t.value=e,t}return Y.symbol}},{key:"typeParameter",value:function(e,t){var r=new ge(this);return r.id=e,r.bound=t,r}},{key:"flowInto",value:function(e){return f(e)}},{key:"bindTypeParameters",value:function(e){var t=Object.getPrototypeOf(e),r=t&&Object.getPrototypeOf(t),n=r&&r.constructor;if(!n)return this.emitWarningMessage("Could not bind type parameters for non-existent parent class."),e;var a=n[Ae];if(a){for(var o=e[a],i=Object.keys(o),u=arguments.length,c=Array(u>1?u-1:0),s=1;s<u;s++)c[s-1]=arguments[s];for(var p=Math.min(i.length,c.length),y=0;y<p;y++){var l=o[i[y]];l.bound=c[y]}}return e}},{key:"module",value:function(e,t){var r=new ft(this);r.name=e;var n=this.createContext();return n[_e]=this,n[Ne]=r,r.innerContext=n,t(n),r}},{key:"moduleExports",value:function(e){var t=this[Ne];if(!t)throw new Error("Cannot declare module.exports outside of a module.");var r=new ht(this);return r.type=e,t.moduleExports=r,r}},{key:"var",value:function(e,t){var r=new yt(this);return r.name=e,r.type=t,r}},{key:"class",value:function(e,t){var r=new vt(this);if("function"==typeof t)return r;r.name=e;for(var n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];a.unshift(t);for(var i=a.length,u=[],c=void 0,s=0;s<i;s++){var p=a[s];if(p instanceof Ve)u.push(p);else if(p instanceof Ye)x(!c,"Class body must only be declared once."),c=p;else if(p instanceof mt)x(!r.superClass,"Classes can only have one super class."),r.superClass=p;else{if(null==p||"object"!==("undefined"==typeof p?"undefined":G(p))||p instanceof ue)throw new Error("ClassDeclaration cannot contain the given type directly.");for(var y in p)u.push(this.property(y,p[y]))}}if(c||(c=new Ye(this)),u.length){var l;(l=c.properties).push.apply(l,u)}return r.body=c,r}},{key:"extends",value:function(e){for(var t=new mt(this),r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.type=this.ref.apply(this,[e].concat(re(n))),t}},{key:"fn",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.function.apply(this,[e].concat(r))}},{key:"function",value:function(e){if("function"==typeof e){var t=new Ze(this);return t.bodyCreator=e,t}for(var r=new xe(this),n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];a.unshift(e);for(var i=a.length,u=0;u<i;u++){var c=a[u];if(c instanceof Te)r.params.push(c);else if(c instanceof Ee)r.rest=c;else{if(!(c instanceof Ce))throw new Error("FunctionType cannot contain the given type directly.");r.returnType=c}}return r.returnType||(r.returnType=this.any()),r}},{key:"param",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Te(this);return n.name=e,n.type=t,n.optional=r,n}},{key:"rest",value:function(e,t){var r=new Ee(this);return r.name=e,r.type=t,r}},{key:"return",value:function(e){var t=new Ce(this);return t.type=e,t}},{key:"generator",value:function(e,t,r){var n=new je(this);return n.yieldType=e,n.returnType=t||this.any(),n.nextType=r||this.any(),n}},{key:"object",value:function(e){var t=new Ye(this);if(null==e||"object"!==("undefined"==typeof e?"undefined":G(e))||e instanceof ue){for(var r=void 0,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];r=e?[e].concat(re(a)):a;for(var i=r,u=i.length,c=0;c<u;c++){var s=r[c];if(s instanceof Ve)t.properties.push(s);else if(s instanceof ze)t.indexers.push(s);else{if(!(s instanceof Ke))throw new Error("ObjectType cannot contain the given type directly.");t.callProperties.push(s)}}}else for(var p in e)t.properties.push(this.property(p,e[p]));return t}},{key:"exactObject",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=this.object.apply(this,[e].concat(re(r)));return a.exact=!0,a}},{key:"callProperty",value:function(e){var t=new Ke(this);return t.value=e,t}},{key:"property",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Ve(this);return n.key=e,t instanceof ue?n.value=t:n.value=this.object(t),n.optional=r,n}},{key:"indexer",value:function(e,t,r){var n=new ze(this);return n.id=e,n.key=t,n.value=r,n}},{key:"method",value:function(e,t){var r=new Ve(this);r.key=e;for(var n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return r.value=this.function.apply(this,[t].concat(a)),r}},{key:"staticProperty",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.property(e,t,r);return n.static=!0,n}},{key:"staticMethod",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var o=this.method.apply(this,[e,t].concat(n));return o.static=!0,o}},{key:"tuple",value:function(){for(var e=new rt(this),t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.types=r,e}},{key:"array",value:function(e){var t=new le(this);return t.elementType=e||this.any(),t}},{key:"union",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return J(this,t)}},{key:"intersect",value:function(){for(var e=new Me(this),t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.types=r,e}},{key:"intersection",value:function(){return this.intersect.apply(this,arguments)}},{key:"box",value:function e(t){var e=new nt(this);return e.reveal=t,e}},{key:"ref",value:function(e){var t=void 0;if("string"==typeof e)t=this.get(e),t||(t=new ot(this),t.name=e);else if("function"==typeof e){var r=this[Oe];t=r.get(e),t||(t=new Je(this),t.impl=e,t.name=e.name)}else{if(!(e instanceof ue))return null==e||"object"!==("undefined"==typeof e?"undefined":G(e))?this.emitWarningMessage("Could not reference the given type, try t.typeOf(value) instead. (got "+String(e)+")"):dt.has(e)||(this.emitWarningMessage("Could not reference the given type, try t.typeOf(value) instead."),dt.add(e)),this.any();t=e}for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];if(a.length){var i;return x("function"==typeof t.apply,"Cannot apply non-applicable type: "+t.typeName+"."),(i=t).apply.apply(i,re(a))}return t}},{key:"validate",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3],a=new ae(this,t);if(n){var o;(o=a.path).push.apply(o,re(n))}else"string"==typeof e.name&&a.path.push(e.name);return a.prefix=r,e.collectErrors(a,[],t),a}},{key:"check",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3];return"assert"===this.mode?this.assert(e,t,r,n):this.warn(e,t,r,n)}},{key:"assert",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3],a=this.validate(e,t,r,n),o=this.makeTypeError(a);if(o)throw o;return t}},{key:"warn",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3],a=this.validate(e,t,r,n),o=X(a);return"string"==typeof o&&this.emitWarningMessage(o),t}},{key:"emitWarningMessage",value:function(e){console.warn(e)}},{key:"propTypes",value:function(e){return I(e.unwrap())}},{key:"match",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.pop();if(!Array.isArray(n))throw new Error("Invalid pattern, last argument must be an array.");var a=this.pattern.apply(this,re(n));return a.apply(void 0,t)}},{key:"pattern",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.length,a=new Array(n),o=0;o<n;o++){var i=t[o],u=this.getAnnotation(i);if(u)x(u instanceof xe||u instanceof Ze,"Pattern clauses must be annotated functions."),a[o]=u;else{if(o!==n-1)throw new Error("Invalid Pattern - found unannotated function in position "+o+", default clauses must be last.");a[o]=!0}}return function(){for(var e=0;e<a.length;e++){var r=a[e],n=t[e];if(r===!0)return n.apply(void 0,arguments);if(r.acceptsParams.apply(r,arguments))return n.apply(void 0,arguments)}var o=new TypeError("Value did not match any of the candidates.");throw o.name="RuntimeTypeError",o}}},{key:"refinement",value:function(e){var t=new qe(this);t.type=e;for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.addConstraint.apply(t,re(n)),t}}]),t}(),kt=new gt;return R(kt),C(kt),j(kt),K("TypeParametersSymbol",Ae),K("TypeContext",gt),K("Type",ue),K("TypeBox",nt),K("TypeParameter",ge),K("TypeReference",ot),K("ParameterizedTypeAlias",We),K("TypeAlias",$e),K("TypeConstructor",Xe),K("GenericType",Je),K("NullLiteralType",Be),K("NumberType",Ue),K("NumericLiteralType",Fe),K("BooleanType",he),K("BooleanLiteralType",fe),K("SymbolType",tt),K("SymbolLiteralType",et),K("StringType",Qe),K("StringLiteralType",He),K("ArrayType",le),K("ObjectType",Ye),K("ObjectTypeCallProperty",Ke),K("ObjectTypeIndexer",ze),K("ObjectTypeProperty",Ve),K("FunctionType",xe),K("FunctionTypeParam",Te),K("FunctionTypeRestParam",Ee),K("FunctionTypeReturn",Ce),K("ParameterizedFunctionType",Ze),K("PartialType",Ge),K("RefinementType",qe),K("TypeParameterApplication",Ie),K("GeneratorType",je),K("ExistentialType",me),K("FlowIntoType",ke),K("AnyType",ce),K("MixedType",Le),K("EmptyType",ve),K("NullableType",De),K("TupleType",rt),K("UnionType",it),K("IntersectionType",Me),K("VoidType",ut),K("Declaration",pt),K("VarDeclaration",yt),K("TypeDeclaration",lt),K("ModuleDeclaration",ft),K("ModuleExportsDeclaration",ht),K("ClassDeclaration",vt),K("ExtendsDeclaration",mt),kt});
